(this["webpackJsonpreact-gpg"]=this["webpackJsonpreact-gpg"]||[]).push([[0],{120:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),s=r.n(a),c=r(77),i=r.n(c),l=r(140),o=r(150),j=r(141),d=r(7),u=r.n(d),b=r(15),x=r(3),O=r(132),h=r(152),p=r(30),f=r(133),m=r(134),v=r(135),g=r(136),y=r(137),w=r(82),k=r(153),R=r(138),S=r(128),K=r(139),C=r(32),q=r(33);function P(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.generateKey)({userIds:[{name:t,email:r}],rsaBits:4096,passphrase:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(u.a.mark((function e(t,r){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.key.readArmored(t);case 2:return n=e.sent,a=Object(x.a)(n.keys,1),s=a[0],e.next=7,s.decrypt(r);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(b.a)(u.a.mark((function e(t,r,n){var a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,r);case 2:return a=e.sent,e.t0=q.decrypt,e.next=6,q.message.readArmored(n);case 6:return e.t1=e.sent,e.t2=[a],e.t3={message:e.t1,privateKeys:e.t2},e.next=11,(0,e.t0)(e.t3);case 11:return s=e.sent,c=s.data,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return W.apply(this,arguments)}function W(){return(W=Object(b.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q.encrypt,e.t1=q.message.fromText(r),e.next=4,q.key.readArmored(t);case 4:return e.t2=e.sent.keys,e.t3={message:e.t1,publicKeys:e.t2},e.next=8,(0,e.t0)(e.t3);case 8:return n=e.sent,a=n.data,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=r(130),T=r(131),V=r(83),D=r(38);function N(e){var t=e.header,r=e.keyLink,a=e.filename;return Object(n.jsxs)(S.a,{borderWidth:"1px",borderRadius:"lg",p:6,justifi:"center",align:"center",direction:"column",children:[Object(n.jsx)(E.a,{mb:4,children:t}),Object(n.jsx)(T.a,{href:r,isExternal:!0,download:a,children:Object(n.jsx)(w.a,{leftIcon:Object(n.jsx)(V.a,{as:D.b,w:6,h:6}),bg:"teal.500",children:"Download"})})]})}var A=function(e){return URL.createObjectURL(new Blob([e]))};function B(){var e,t,r,s=Object(a.useState)(!1),c=Object(x.a)(s,2),i=c[0],l=c[1],o=Object(a.useState)({open:!1,message:""}),j=Object(x.a)(o,2),d=j[0],q=j[1],L=Object(a.useState)({loading:!1,publicKeyURL:"",privateKeyURL:"",name:""}),I=Object(x.a)(L,2),z=I[0],U=I[1],F=Object(C.b)(),M=F.register,W=F.handleSubmit,E=F.reset,T=F.errors,V=function(){var e=Object(b.a)(u.a.mark((function e(t){var r,n,a,s,c,i,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.email,a=t.password,U({loading:!0,publicKeyURL:"",privateKeyURL:"",name:""}),e.prev=2,e.next=5,P(r,n,a);case 5:s=e.sent,c=s.privateKeyArmored,i=s.publicKeyArmored,l=A(i),o=A(c),U({loading:!1,publicKeyURL:l,privateKeyURL:o,name:r}),E(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),q({open:!0,message:"Invalid Email"}),U({loading:!1,publicKeyURL:"",privateKeyURL:"",name:""});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(O.a,{maxW:"2xl",h:"full",children:[Object(n.jsxs)(h.b,{as:"form",onSubmit:W(V),spacing:4,children:[Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===T||void 0===T?void 0:T.name),children:[Object(n.jsx)(f.a,{children:"Name"}),Object(n.jsx)(m.a,{placeholder:"Name",size:"md",name:"name",ref:M({required:"This field is required"})}),Object(n.jsx)(v.a,{children:null===T||void 0===T||null===(e=T.name)||void 0===e?void 0:e.message})]}),Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===T||void 0===T?void 0:T.email),children:[Object(n.jsx)(f.a,{children:"Email address"}),Object(n.jsx)(m.a,{placeholder:"Email",size:"md",name:"email",ref:M({required:"This field is required",pattern:{value:/^\S+@\S+$/i,message:"Not an email"}})}),Object(n.jsx)(v.a,{children:null===T||void 0===T||null===(t=T.email)||void 0===t?void 0:t.message})]}),Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===T||void 0===T?void 0:T.password),children:[Object(n.jsx)(f.a,{children:"Password"}),Object(n.jsxs)(g.a,{size:"md",children:[Object(n.jsx)(m.a,{pr:"4.5rem",type:i?"text":"password",placeholder:"Enter password",name:"password",ref:M({required:"This field is required"})}),Object(n.jsx)(y.a,{width:"4.5rem",children:Object(n.jsx)(w.a,{h:"1.75rem",size:"sm",onClick:function(){return l(!i)},children:i?"Hide":"Show"})})]}),Object(n.jsx)(v.a,{children:null===T||void 0===T||null===(r=T.password)||void 0===r?void 0:r.message})]}),Object(n.jsx)(w.a,{isFullWidth:!0,bg:"teal.500",type:"submit",isLoading:z.loading,loadingText:"Creating",children:"Create Key Pair"})]}),d.open?Object(n.jsxs)(k.a,{status:"error",my:4,children:[Object(n.jsx)(k.b,{}),d.message,Object(n.jsx)(R.a,{position:"absolute",right:"8px",top:"8px",onClick:function(){return q({open:!1,message:""})}})]}):null,!z.loading&&z.publicKeyURL&&z.privateKeyURL?Object(n.jsxs)(S.a,{align:"center",justify:"center",my:8,children:[Object(n.jsx)(K.a,{}),Object(n.jsx)(N,{header:"Public Key",filename:"".concat(z.name,"Public.key"),keyLink:z.publicKeyURL}),Object(n.jsx)(K.a,{}),Object(n.jsx)(N,{header:"Private Key",filename:"".concat(z.name,"Private.key"),keyLink:z.privateKeyURL}),Object(n.jsx)(K.a,{})]}):null]})}var _=r(22),H=r(142),J=r(81);function $(e){var t=e.control,r=e.name,a=e.setValue;return Object(n.jsx)(C.a,{control:t,name:r,defaultValue:[],rules:{validate:{filled:function(e){return 1===e.length}}},render:function(e){var t=e.onChange,s=e.onBlur,c=e.value;return Object(n.jsx)(n.Fragment,{children:c[0]?Object(n.jsx)(l.a,{borderWidth:"1px",borderRadius:"lg",bg:"gray.700",p:6,children:Object(n.jsxs)(S.a,{justify:"center",align:"center",children:[Object(n.jsx)(j.a,{fontSize:"lg",children:c[0].name}),Object(n.jsx)(K.a,{}),Object(n.jsx)(H.a,{"aria-label":"Change Key",fontSize:"20px",icon:Object(n.jsx)(D.c,{}),onClick:function(){a(r,[])}})]})}):Object(n.jsx)(J.a,{onDrop:t,children:function(e){var t=e.getRootProps,r=e.getInputProps;return Object(n.jsxs)(S.a,Object(_.a)(Object(_.a)({},t()),{},{justify:"center",align:"center",direction:"column",borderWidth:"1px",borderRadius:"lg",p:6,_hover:{cursor:"pointer"},bg:"gray.700",children:[Object(n.jsx)("input",Object(_.a)(Object(_.a)({},r()),{},{onBlur:s})),Object(n.jsx)(V.a,{as:D.a,w:20,h:20}),Object(n.jsx)(j.a,{fontSize:"lg",children:"Drag n' Drop file, or click to select"})]}))}})})}})}function G(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(){r(n)},n.readAsText(e)}))}function Q(){var e,t=Object(a.useState)(!1),r=Object(x.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(""),o=Object(x.a)(i,2),d=o[0],k=o[1],R=Object(C.b)(),S=R.register,K=R.handleSubmit,q=R.errors,P=R.control,L=R.setValue,I=function(){var e=Object(b.a)(u.a.mark((function e(t){var r,n,a,s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(x.a)(t.file,1),n=r[0],a=t.password,s=Object(x.a)(t.messageFile,1),c=s[0],i=[G(n),G(c)],Promise.all(i).then((function(e){var t=Object(x.a)(e,2),r=t[0],n=t[1];z(r,a,n)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t,r,n);case 3:a=e.sent,k(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(n.jsxs)(O.a,{maxW:"2xl",h:"full",children:[Object(n.jsxs)(h.b,{as:"form",onSubmit:K(I),spacing:4,children:[Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.file),children:[Object(n.jsx)(f.a,{children:"Private Key"}),Object(n.jsx)($,{name:"file",control:P,setValue:L}),Object(n.jsx)(v.a,{children:(null===q||void 0===q?void 0:q.file)&&"No file selected"})]}),Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.password),children:[Object(n.jsx)(f.a,{children:"Password"}),Object(n.jsxs)(g.a,{size:"md",children:[Object(n.jsx)(m.a,{pr:"4.5rem",type:s?"text":"password",placeholder:"Enter password",name:"password",ref:S({required:"This field is required"})}),Object(n.jsx)(y.a,{width:"4.5rem",children:Object(n.jsx)(w.a,{h:"1.75rem",size:"sm",onClick:function(){return c(!s)},children:s?"Hide":"Show"})})]}),Object(n.jsx)(v.a,{children:null===q||void 0===q||null===(e=q.password)||void 0===e?void 0:e.message})]}),Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.file),children:[Object(n.jsx)(f.a,{children:"Message"}),Object(n.jsx)($,{name:"messageFile",control:P,setValue:L}),Object(n.jsx)(v.a,{children:(null===q||void 0===q?void 0:q.file)&&"No file selected"})]}),Object(n.jsx)(w.a,{isFullWidth:!0,bg:"teal.500",type:"submit",children:"Decrypt Message"})]}),d&&Object(n.jsx)(l.a,{my:6,borderWidth:"1px",borderRadius:"lg",p:6,children:Object(n.jsx)(j.a,{children:d})})]})}var X=r(144),Y=r(145),Z=r(146),ee=r(143);function te(e){var t=Object(ee.a)(e),r=t.getInputProps,a=t.getCheckboxProps,s=r(),c=a();return Object(n.jsxs)(l.a,{as:"label",children:[Object(n.jsx)("input",Object(_.a)({},s)),Object(n.jsx)(l.a,Object(_.a)(Object(_.a)({},c),{},{cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"teal.600",color:"white",borderColor:"teal.600"},_focus:{boxShadow:"outline"},px:5,py:3,children:e.children}))]})}function re(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),r=t[0],s=t[1],c=Object(a.useState)("File"),i=Object(x.a)(c,2),l=i[0],o=i[1],d=Object(X.a)(r),m=d.hasCopied,g=d.onCopy,y=Object(C.b)(),k=y.register,R=y.handleSubmit,q=y.errors,P=y.control,L=y.setValue,I=function(){var e=Object(b.a)(u.a.mark((function e(t){var r,n,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(x.a)(t.file,1),n=r[0],"string"!==typeof(a=t.message)){e.next=5;break}return s=[G(n)],Promise.all(s).then((function(e){var t=Object(x.a)(e,1)[0];z(t,a)})),e.abrupt("return");case 5:c=[G(n),G(a[0])],Promise.all(c).then((function(e){var t=Object(x.a)(e,2),r=t[0],n=t[1];z(r,n)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,r);case 3:n=e.sent,s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),U=Object(Y.a)({name:"message",defaultValue:"File",onChange:function(e){return o(e)}}),F=U.getRootProps,W=U.getRadioProps,E=F();return Object(n.jsx)(O.a,{maxW:"2xl",h:"full",children:Object(n.jsxs)(h.b,{as:"form",onSubmit:R(I),spacing:4,children:[Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.file),children:[Object(n.jsx)(f.a,{children:"Public Key"}),Object(n.jsx)($,{name:"file",control:P,setValue:L}),Object(n.jsx)(v.a,{children:(null===q||void 0===q?void 0:q.file)&&"No file selected"})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)(f.a,{children:"Type of message"}),Object(n.jsx)(h.a,Object(_.a)(Object(_.a)({},E),{},{children:["File","Text"].map((function(e){var t=W({value:e});return Object(n.jsx)(te,Object(_.a)(Object(_.a)({},t),{},{children:e}),e)}))}))]}),"File"===l?Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.message),children:[Object(n.jsx)(f.a,{children:"Message"}),Object(n.jsx)($,{name:"message",control:P,setValue:L}),Object(n.jsx)(v.a,{children:(null===q||void 0===q?void 0:q.message)&&"No file selected"})]}):Object(n.jsxs)(p.a,{isRequired:!0,isInvalid:!!(null===q||void 0===q?void 0:q.message),children:[Object(n.jsx)(f.a,{children:"Message"}),Object(n.jsx)(Z.a,{resize:"vertical",placeholder:"Write the message to encrypt",size:"sm",name:"message",ref:k({required:"This field is required"})})]}),Object(n.jsx)(w.a,{isFullWidth:!0,bg:"teal.500",type:"submit",children:"Encrypt Message"}),r?Object(n.jsxs)(S.a,{justifi:"center",align:"center",children:[Object(n.jsx)(K.a,{}),Object(n.jsx)(T.a,{href:A(r),isExternal:!0,download:"encryptedMessage.txt",children:Object(n.jsx)(w.a,{leftIcon:Object(n.jsx)(V.a,{as:D.b,w:6,h:6}),bg:"teal.500",children:"Download"})}),Object(n.jsx)(K.a,{}),Object(n.jsx)(j.a,{children:"Or"}),Object(n.jsx)(K.a,{}),Object(n.jsx)(w.a,{bg:"teal.500",onClick:g,children:m?"Copied":"Copy message"}),Object(n.jsx)(K.a,{})]}):null]})})}var ne=function(){return Object(n.jsx)(l.a,{as:"main",children:Object(n.jsxs)(o.e,{isManual:!0,isFitted:!0,variant:"enclosed",defaultIndex:1,children:[Object(n.jsxs)(o.b,{children:[Object(n.jsx)(o.a,{children:Object(n.jsx)(j.a,{fontSize:"xl",children:"Create Keys"})}),Object(n.jsx)(o.a,{children:Object(n.jsx)(j.a,{fontSize:"xl",children:"Encrypt"})}),Object(n.jsx)(o.a,{children:Object(n.jsx)(j.a,{fontSize:"xl",children:"Decrypt"})})]}),Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.c,{children:Object(n.jsx)(B,{})}),Object(n.jsx)(o.c,{children:Object(n.jsx)(re,{})}),Object(n.jsx)(o.c,{children:Object(n.jsx)(Q,{})})]})]})})},ae=r(147),se=r(151),ce=r(149),ie=r(148),le=Object(ae.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}});i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsxs)(se.a,{theme:le,children:[Object(n.jsx)(ce.a,{initialColorMode:le.config.initialColorMode}),Object(n.jsx)(ie.a,{}),Object(n.jsx)(ne,{})]})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.601794f5.chunk.js.map